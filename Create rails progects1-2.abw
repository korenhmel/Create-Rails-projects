<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE abiword PUBLIC "-//ABISOURCE//DTD AWML 1.0 Strict//EN" "http://www.abisource.com/awml.dtd">
<abiword template="false" xmlns:ct="http://www.abisource.com/changetracking.dtd" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:math="http://www.w3.org/1998/Math/MathML" xid-max="448" xmlns:dc="http://purl.org/dc/elements/1.1/" styles="unlocked" fileformat="1.1" xmlns:svg="http://www.w3.org/2000/svg" xmlns:awml="http://www.abisource.com/awml.dtd" xmlns="http://www.abisource.com/awml.dtd" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.9.1" xml:space="preserve" props="dom-dir:ltr; document-footnote-restart-section:0; document-endnote-type:numeric; document-endnote-place-enddoc:1; document-endnote-initial:1; lang:ru; document-endnote-restart-section:0; document-footnote-restart-page:0; document-footnote-type:numeric; document-footnote-initial:1; document-endnote-place-endsection:0">
<!-- ======================================================================== -->
<!-- This file is an AbiWord document.                                        -->
<!-- AbiWord is a free, Open Source word processor.                           -->
<!-- More information about AbiWord is available at http://www.abisource.com/ -->
<!-- You should not edit this file by hand.                                   -->
<!-- ======================================================================== -->

<metadata>
<m key="abiword.date_last_changed">Wed Feb 22 14:02:38 2017
</m>
<m key="abiword.generator">AbiWord</m>
<m key="dc.creator">koren</m>
<m key="dc.date">Thu Feb  9 21:16:19 2017
</m>
<m key="dc.format">application/x-abiword</m>
</metadata>
<rdf>
</rdf>
<history version="18" edit-time="71614" last-saved="1487764958" uid="115a3f22-eefc-11e6-8786-cd7a9edf7beb">
<version id="1" started="1486667779" uid="3c990812-eefc-11e6-8786-cd7a9edf7beb" auto="0" top-xid="160"/>
<version id="3" started="1486668703" uid="2e5454bc-ef03-11e6-9817-cb76199d3748" auto="0" top-xid="162"/>
<version id="4" started="1486682566" uid="aa31ae3e-ef1e-11e6-82f4-9d2bf312b328" auto="0" top-xid="181"/>
<version id="5" started="1487004404" uid="0080d266-f20c-11e6-89e7-f1ede316b999" auto="0" top-xid="241"/>
<version id="6" started="1487173567" uid="dd97eba0-f395-11e6-8c0b-a245f9441350" auto="0" top-xid="270"/>
<version id="7" started="1487174006" uid="e309535c-f396-11e6-9b27-bbf6fec9e4a5" auto="0" top-xid="273"/>
<version id="11" started="1487254072" uid="203cd814-f47a-11e6-8536-a2c0accd78f6" auto="0" top-xid="297"/>
<version id="13" started="1487708752" uid="43e8d688-f87a-11e6-961c-b451aca07218" auto="0" top-xid="354"/>
<version id="18" started="1487759327" uid="ce3d675a-f8f6-11e6-9362-b7295ef2eb92" auto="0" top-xid="409"/>
</history>
<styles>
<s type="P" name="Normal" followedby="Current Settings" props="font-weight:normal; font-family:Times New Roman; margin-top:0pt; font-style:normal; margin-left:0pt; text-align:left; widows:2; color:000000; text-indent:0in; font-variant:normal; text-decoration:none; bgcolor:transparent; margin-right:0pt; margin-bottom:0pt; font-size:12pt; line-height:1.0; text-position:normal; font-stretch:normal"/>
<s type="P" name="Plain Text" basedon="Normal" followedby="Current Settings" props="font-family:Courier New"/>
</styles>
<pagesize pagetype="A4" orientation="portrait" width="8.267717" height="11.692913" units="in" page-scale="1.000000"/>
<section xid="159" props="page-margin-footer:0.5000in; page-margin-header:0.5000in; page-margin-right:1.0000in; page-margin-left:1.0000in; page-margin-top:1.0000in; page-margin-bottom:1.0000in">
<p style="Normal" xid="160" props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal"><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">(Rubyschool lesson 46)</c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-"></c></p>
<p style="Normal" xid="1" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-"></c><c></c></p>
<p style="Normal" xid="2" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">Тестирование: rspec</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="3" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">1.) Добавим в наш </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">Gemfile  </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">строки:</c></p>
<p style="Normal" xid="4" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="5" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">group :test, :development do</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="6" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">	gem "rspec-rails", "~&gt;2.4"</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="7" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">	gem 'capybara'</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="8" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">end</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="9" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="10" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">и выполним команду с консоли bundle install. </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="11" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">2.) Cгенерируем  команду с консоли: </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">Rails g rsepec:install, </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">которая выполняет установку гема </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">rspec </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">в приложение и создает дополнительные папку spec c хелпером.</c></p>
<p style="Normal" xid="12" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">3.)В нашей сгенерированной папке </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">spec</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"> добавим папку </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">models.  </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">В ней будем создавать файлы для тестирования наших моделей. </c></p>
<p style="Normal" xid="13" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="14" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">Cоздадим файл в папке models </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">contact_spec.rb.</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"> Этот файл будет проверять валидацию на присутствие обязательных параметров. Модель </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">contact</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"> проверяет чтобы обязательно присутствоали </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">email</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"> и </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">message.</c></p>
<p style="Normal" xid="15" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">    Первая строка с которой должен начинаться файл тестирования должна быть:</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="16" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">require  “spec_helper” </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"> Форма в rspec тестировании выглядит так:</c></p>
<p style="Normal" xid="17" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="18" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">describe “something” do     </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">Вместо something можно тестировать модель </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">Contact</c></p>
<p style="Normal" xid="19" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"> 	it “does something “  do</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="20" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">	end</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="21" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">end     </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="22" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="23" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">Проверяеться тест с консоли командой  </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">rake spec</c></p>
<p style="Normal" xid="24" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="25" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">Если у вам стоит rails 5 то может возникнуть ошибка:</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="26" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">﻿</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">NoMethodError: undefined method `last_comment' . Э</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">та ошибка возникает из за того что у вас  по умолчанию инсталируется </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"> rake 11.0</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"> и версия выше.  Чтобы испавить эту ошибку откатим  </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">rake 11.0</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">  на версию ниже. Для этого зайдем в Gemfile, и добавим  гем :   </c><c props="font-family:Courier; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">gem 'rake', '&lt; 11.0'. </c><c props="font-family:Courier; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">Затем в консоли наберем </c></p>
<p style="Normal" xid="27" props="font-family:Courier; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Courier; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">bundle update, </c><c props="font-family:Courier; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c props="font-family:Courier; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">а за ней-&gt; </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">﻿</c><c props="font-family:Courier; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">grep rake Gemfile.lock.</c></p>
<p style="Normal" xid="28" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Courier; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="29" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">	Изменим  строки в нашем файле  </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">contact_spec.rb</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"> на :</c></p>
<p style="Normal" xid="30" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">describe Contact do</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="31" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"> 	</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">it {should validate_presence_of :email}  </c></p>
<p style="Normal" xid="32" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">	end</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="33" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">end    </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="34" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="35" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">Видно что тестируется модель Contact, </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="36" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">Таким простым образом у нас тестируеться атрибут , а строчка </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"> it {should validate_presence_of :email}  </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">тестирует атрибут  </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">:email</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">.</c></p>
<p style="Normal" xid="37" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="38" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">Теперь если прогнать тест то у нас появиться ошибка:  </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c props="font-family:monospace; font-size:12pt; color:b21818; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">NoMethodError</c><c props="font-family:monospace; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">: <br/></c><c props="font-family:monospace; font-size:12pt; color:b21818; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">undefined method `validate_presence_of' </c><c props="font-family:monospace; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"><br/>Эта ошибка появилась из за того что программа не понимает этой команды из за отсутствия нужного гема. добавим в нашу группу гемов еще один гем.</c></p>
<p style="Normal" xid="39" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">group :test, :development do</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="40" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">	gem "rspec-rails", "~&gt;2.4"</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="41" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">	gem 'capybara'</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="42" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">           </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:underline "> gem “spoulda-matchers"</c></p>
<p style="Normal" xid="43" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">end</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="44" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="45" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">Если после этого тест прошел, отлично. У меня тест выдавал ошибку:</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="46" props="font-weight:bold; font-family:monospace; margin-top:0.0000in; font-style:normal; margin-left:0.0000in; text-align:left; dom-dir:ltr; text-decoration:none; text-indent:0.0000in; text-position:normal; lang:-none-; margin-right:0.0000in; color:b21818; margin-bottom:0.0000in; line-height:1.000000; font-size:12pt"><c props="font-family:monospace; font-size:12pt; color:b21818; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">NoMethodError</c><c props="font-family:monospace; font-size:12pt; color:b21818; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-"></c><c props="font-family:monospace; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">: <br/></c><c props="font-family:monospace; font-size:12pt; color:b21818; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">undefined method `validate_presence_of'</c></p>
<p style="Normal" xid="47" props="font-family:monospace; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:monospace; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">Чтобы ее исправить, я добавил в </c><c props="font-family:monospace; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c props="font-family:monospace; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">spec_helper.rb</c><c props="font-family:monospace; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"> такие строки:</c></p>
<p style="Normal" xid="48" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:monospace; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="49" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">Shoulda::Matchers.configure do |config|</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="50" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">  config.integrate do |with|</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="51" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">    with.test_framework :rspec</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="52" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">    with.library :rails</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="53" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">  end</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="54" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">end</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="55" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">После этого тест заработал нормально.</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="56" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">Создадим в той же папке  файл </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">article_spec.rb </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">и напишем код тестирующий  нашу модель </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">article.rb.  </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">В наша модель </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">article</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"> связана с моделью </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">comments  </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">полиморфной ассоциацией, протестируем ее тоже.</c></p>
<p style="Normal" xid="57" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">require "spec_helper"</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="58" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="59" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">describe Article do</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="60" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"> 	it {should have_many :comments} 	</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="61" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">end    </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="62" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="63" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">Теперь создадим  </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">comment_spec.rb</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"> В ассоциации модель Comment принадлежил модели Article  протестируем так же эту связь</c></p>
<p style="Normal" xid="64" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">require "spec_helper"</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="65" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="66" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">describe Comment do</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="67" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"> 	it {should belong_to :article} 		</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="68" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">end </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="69" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="70" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">Зайдем в </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">article_spec.rb </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">и добавим проверку атрибутов </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">:title</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"> и :</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">text</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">.</c></p>
<p style="Normal" xid="71" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">require "spec_helper"</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="72" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="73" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">describe Article do</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="74" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">	i</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:underline ">t {should validate_presence_of :title}</c></p>
<p style="Normal" xid="75" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">	</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:underline ">it {should validate_presence_of :text}</c></p>
<p style="Normal" xid="76" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"> 	it {should have_many :comments} </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="77" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"> 		</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="78" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">end     </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="79" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="80" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">Чтобы разделить разные по содержанию тесты преобразуем наш </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">article_spec.rb </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">и добавим  describe validations, describe associations .</c></p>
<p style="Normal" xid="81" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="82" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="83" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="84" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="85" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">require "spec_helper"</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="86" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="87" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">describe Article do</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="88" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">	describe “validations” do</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="89" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">		i</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:underline ">t {should validate_presence_of :title}</c></p>
<p style="Normal" xid="90" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">		</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:underline ">it {should validate_presence_of :text}</c></p>
<p style="Normal" xid="91" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">	end</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="92" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="93" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">	describe “associations” do</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="94" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"> 		it {should have_many :comments} </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="95" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">	end	</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="96" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">end     </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="97" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="98" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">Теперь протестируем методы, для тестирования  инстансных методов в практике програмистов применяется знак(</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">#</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"> ) перед названием тестируемого метода. А для методов класса (</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">.</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">).  Для этого создадим в модели Article метод:</c></p>
<p style="Normal" xid="99" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">def subject</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="100" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">       title</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="101" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">end</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="102" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"> </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">Теперь в нашем тесте в файле article_spec.rb добавим строчки для тестирования  выше упомянутого метода.</c></p>
<p style="Normal" xid="103" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">describe "#subject" do</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="104" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"> 		it "returns the article title" do</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="105" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">		   # создаем обьект article хитрым способом</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="106" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">		   article = create(:article, title: 'lorem Ipsum')</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="107" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">		   # assert, проверка</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="108" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">		   expect(article.subject).to eq 'lorem Ipsum'</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="109" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">		end</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="110" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">	</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="111" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">    end	</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="112" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="113" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">При прогоне теста мы увидим ошибку:  </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">Undefined method create for #&lt;Rspec. </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">Здесь руби не может найти метод </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">create</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">, потому что </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">create</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"> принадлежил к такому гему как </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">factory girl. </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"> </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">Factory girl</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"> это замена нашему </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">Active Record</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"> для тестирования . C </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">factory girl</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"> нам не нужна будет база данных, и не бедем наполнять ее тестовыми данными </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">fixtures</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">, и что важное</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"> factory girl</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"> побуждает нас использовать </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">DRY</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"> принцип.</c></p>
<p style="Normal" xid="114" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">Вместо того чтобы создавать какие то обьекты для тестов, мы с помощью factory girl создаем в одном месте фабрику и дальше эта фабрика будет отвечать за то чтобы создавать нам обьекты для тестов с помощью всего одной строчки. </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="115" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">	Установка </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">factory girl:</c></p>
<p style="Normal" xid="116" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">1. Добавим в файле </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">Gegfile</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"> в нашу группу гемов, гем </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">factory girl </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">для рельсового приложения:</c></p>
<p style="Normal" xid="117" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">group :test, :development do</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="118" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">	gem "rspec-rails", "~&gt;2.4"</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="119" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">	gem 'capybara'</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="120" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">	gem "shoulda-matchers"</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="121" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">   	</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:underline ">gem "factory_girl_rails", "~&gt;4.0"</c></p>
<p style="Normal" xid="122" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">end</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="123" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">В консоли запустим bundle install чтобы этот гем установился.</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="124" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">2.) Теперь надо создать конфигарацию в файле  </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">spec/support/factory_girl.rb</c></p>
<p style="Normal" xid="125" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">﻿</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Plain Text" xid="126" props="font-family:Courier; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Plain Text" xid="127" props="font-family:Courier; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Courier; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">RSpec.configure do |config|<br/>  config.include </c><c props="font-family:Courier; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">RSpec.configure do |config|</c></p>
<p style="Plain Text" xid="128" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">  config.include FactoryGirl::Syntax::Methods</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Plain Text" xid="129" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">end</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c props="font-family:Courier; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"><br/>end</c></p>
<p style="Plain Text" xid="130" props="font-family:Courier; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Courier; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="131" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">Теперь если мы прогоним тесты то у нас выдаст ошибку : </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="132" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"> Factory not registered:  Article</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="133" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">3.) </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">Чтобы зарегистрировать фабрику нам нужно создать папке spec/factories/articles.rb,</c></p>
<p style="Normal" xid="134" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">и в нем запишем такую запись:</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="135" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">FactoryGirl.define do</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="136" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">  factory :artilcle do</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="137" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">  end</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="138" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">end</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="139" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">Это и есть пример простой фабрики.  </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="140" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">Теперь если мы прогоним  rake spec то мы получим такую ошибку:</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="141" props="font-weight:bold; font-family:monospace; margin-top:0.0000in; font-style:normal; margin-left:0.0000in; text-align:left; dom-dir:ltr; text-decoration:none; text-indent:0.0000in; text-position:normal; lang:-none-; margin-right:0.0000in; color:b21818; margin-bottom:0.0000in; line-height:1.000000; font-size:12pt"><c props="font-family:monospace; font-size:12pt; color:b21818; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">Validation failed: Text can't be blank, User must exist</c><c props="font-family:monospace; font-size:12pt; color:b21818; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-"></c></p>
<p style="Normal" xid="142" props="font-family:monospace; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:monospace; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">Теперь чтобы модель окончательно заработала нам нужно довавить в свойства модели значения, наша модель не пропузкает пустые значения в свойствах модели.</c><c props="font-family:monospace; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c props="font-family:monospace; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"><br/></c></p>
<p style="Normal" xid="143" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">FactoryGirl.define do</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="144" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">  factory :artilcle do</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="145" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">    title “Hello title”</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="146" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">     text “Article text”</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="147" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">  end</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="148" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">end</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="149" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">Теперь наш тест с тестированием метода должен пройти.</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="150" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">Что мы сделали для  теста метода:</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="163" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">describe "#subject" do</c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-"></c></p>
<p style="Normal" xid="164" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"> 		it "returns the article title" do</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="165" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">		   # создаем обьект article хитрым способом</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="166" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">		  </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; text-decoration:underline; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; font-size:12pt"> article = create(:article, title: 'lorem Ipsum')</c></p>
<p style="Normal" xid="167" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">		   # assert, проверка</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="168" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">		  </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; text-decoration:underline; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; font-size:12pt"> expect(article.subject).to eq 'lorem Ipsum'</c></p>
<p style="Normal" xid="169" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">		end</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="170" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">	</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="171" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">    end	</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="151" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; font-size:12pt; color:000000; margin-bottom:0.0000in; margin-right:0.0000in; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">1.)Мы создали модель </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">article = create(:article, title: 'lorem Ipsum')</c></p>
<p style="Normal" xid="152" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">2.) мы  в папке создали каталог </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">factories</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"> в котором  создали файл </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">articles.rb</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"> и в нем  определили свойства модели.</c></p>
<p style="Normal" xid="153" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; font-size:12pt">FactoryGirl.define do</c><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; font-size:12pt"></c></p>
<p style="Normal" xid="154" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; font-size:12pt">  factory :article do</c><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; font-size:12pt"></c></p>
<p style="Normal" xid="155" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; font-size:12pt">  	title "Hello title"</c><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; font-size:12pt"></c></p>
<p style="Normal" xid="156" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; font-size:12pt">  	text  "Hello text" </c><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; font-size:12pt"></c></p>
<p style="Normal" xid="157" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; font-size:12pt">  end</c><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; font-size:12pt"></c></p>
<p style="Normal" xid="158" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; font-size:12pt">end</c><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; font-size:12pt"></c></p>
<p style="Normal" xid="161" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none">3.) Наша запись проверяет на одинаковость записи в </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; font-size:12pt">rspec:</c></p>
<p style="Normal" xid="162" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-"> expect(article.subject).to eq 'lorem Ipsum'</c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-"></c></p>
<p style="Normal" xid="172" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-"></c><c></c></p>
<p style="Normal" xid="173" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">Создадим еще один метод в нашей модели Article. </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"></c></p>
<p style="Normal" xid="178" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"></c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">def last_comment</c></p>
<p style="Normal" xid="175" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">      comments.last</c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-"></c></p>
<p style="Normal" xid="176" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">end</c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-"></c></p>
<p style="Normal" xid="177" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">Этот метод будет возвращать последний комментарий. Теперь для нашего теста</c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"></c></p>
<p style="Normal" xid="240" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"></c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"> </c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">models/article_spec.rb</c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"> cоздадим тест для метода и сделаем пока временную заглушку:</c></p>
<p style="Normal" xid="182" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; line-height:1.000000; margin-bottom:0.0000in; font-size:12pt; margin-right:0.0000in; text-decoration:none"> <c></c><c props="font-weight:bold">describe "#last_comment" do</c></p>
<p style="Normal" xid="183" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; line-height:1.000000; text-decoration:none; font-size:12pt; margin-right:0.0000in; margin-bottom:0.0000in"><c props="font-weight:bold">    	it "returns the last comment" do</c><c props="font-weight:bold"></c></p>
<p style="Normal" xid="189" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; margin-bottom:0.0000in; font-size:12pt; line-height:1.000000; text-decoration:none"><c props="font-weight:bold">    	end</c><c props="font-weight:bold"></c></p>
<p style="Normal" xid="190" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; line-height:1.000000; text-decoration:none; font-size:12pt; margin-right:0.0000in; margin-bottom:0.0000in"><c props="font-weight:bold">    end</c><c props="font-weight:bold"></c></p>
<p style="Normal" xid="181" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">Теперь создадим фабрику для комментария в папке </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"></c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">factories/comments.rb</c></p>
<p style="Normal" xid="201" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">Мы уже знаем как просто создавать один обьект для проверки, но бывают случаи когда надо чтобы было несколько созданных обьектов одновременно. в этом примере как раз представлен такой случай. Если бы мы хотели сделать одиночный комментарий, мы бы после записи </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"></c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">author "Georgiy", </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">написали бы в атрибуте body такую строчку.</c></p>
<p style="Normal" xid="202" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"></c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"> </c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">body  "Happy Hellowin text". </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">А ниже пример как сделать несколько комментариев одновременно.</c></p>
<p style="Normal" xid="200" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"></c><c></c></p>
<p style="Normal" xid="191" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; line-height:1.000000; margin-bottom:0.0000in; font-size:12pt; margin-right:0.0000in; text-decoration:none"><c props="font-weight:bold">FactoryGirl.define do</c><c props="font-weight:bold"></c></p>
<p style="Normal" xid="192" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; line-height:1.000000; text-decoration:none; font-size:12pt; margin-right:0.0000in; margin-bottom:0.0000in"><c props="font-weight:bold">  factory :comment do</c><c props="font-weight:bold"></c></p>
<p style="Normal" xid="193" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; margin-bottom:0.0000in; font-size:12pt; line-height:1.000000; text-decoration:none"><c props="font-weight:bold">  	author "Georgiy"</c><c props="font-weight:bold"></c></p>
<p style="Normal" xid="194" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; line-height:1.000000; text-decoration:none; font-size:12pt; margin-right:0.0000in; margin-bottom:0.0000in"><c props="font-weight:bold">  	# body  "Happy Hellowin text"  (create body comments one's)</c><c props="font-weight:bold"></c></p>
<p style="Normal" xid="195" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; margin-bottom:0.0000in; font-size:12pt; line-height:1.000000; text-decoration:none"><c props="font-weight:bold">  	# This create multiple comments</c><c props="font-weight:bold"></c></p>
<p style="Normal" xid="196" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; line-height:1.000000; text-decoration:none; font-size:12pt; margin-right:0.0000in; margin-bottom:0.0000in"><c props="font-weight:bold">  	sequence(:body) {|n| "comment body #{n}"}</c><c props="font-weight:bold"></c></p>
<p style="Normal" xid="197" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; margin-bottom:0.0000in; font-size:12pt; line-height:1.000000; text-decoration:none"><c props="font-weight:bold">  end</c><c props="font-weight:bold"></c></p>
<p style="Normal" xid="198" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; line-height:1.000000; text-decoration:none; font-size:12pt; margin-right:0.0000in; margin-bottom:0.0000in"><c props="font-weight:bold">end</c><c props="font-weight:bold"></c></p>
<p style="Normal" xid="199" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; line-height:1.000000; text-decoration:none; font-size:12pt; margin-right:0.0000in; margin-bottom:0.0000in"><c props="font-weight:normal">Теперь когда будем создавать новый обьект в тесте для </c><c props="font-weight:normal"></c><c props="font-weight:bold">#last_comment, </c><c props="font-weight:normal">запись :</c></p>
<p style="Normal" xid="205" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; margin-bottom:0.0000in; font-size:12pt; line-height:1.000000; text-decoration:none"><c props="font-weight:normal"></c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">article = create(итд.)</c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">,</c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-"> </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">будет создавать много обьектов. Теперь в файле </c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">factorctories/articles.rb</c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"> сделаем фабрику которая будет называться </c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">article_with_comments, </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">причем эта фабрика будет содержаться внутри блока </c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">factory :article do. </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">Вот как это будет выглядеть</c></p>
<p style="Normal" xid="206" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; line-height:1.000000; text-decoration:none; font-size:12pt; margin-right:0.0000in; margin-bottom:0.0000in"><c props="font-weight:bold">FactoryGirl.define do</c><c props="font-weight:bold"></c></p>
<p style="Normal" xid="207" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; margin-bottom:0.0000in; font-size:12pt; line-height:1.000000; text-decoration:none"><c props="font-weight:bold">  factory :article do</c><c props="font-weight:bold"></c></p>
<p style="Normal" xid="208" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; line-height:1.000000; text-decoration:none; font-size:12pt; margin-right:0.0000in; margin-bottom:0.0000in"><c props="font-weight:bold">  	title "Hello title"</c><c props="font-weight:bold"></c></p>
<p style="Normal" xid="209" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; margin-bottom:0.0000in; font-size:12pt; line-height:1.000000; text-decoration:none"><c props="font-weight:bold">  	text  "Hello text" </c><c props="font-weight:bold"></c></p>
<p style="Normal" xid="210" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; margin-bottom:0.0000in; font-size:12pt; line-height:1.000000; text-decoration:none"><c props="font-weight:bold"></c><c></c></p>
<p style="Normal" xid="211" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; line-height:1.000000; text-decoration:none; font-size:12pt; margin-right:0.0000in; margin-bottom:0.0000in"><c props="font-weight:bold">  	# Создаем фабрику с названием article_with_comments</c><c props="font-weight:bold"></c></p>
<p style="Normal" xid="212" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; margin-bottom:0.0000in; font-size:12pt; line-height:1.000000; text-decoration:none"><c props="font-weight:bold">  	# Для создания статьи с несколькими комментариями</c><c props="font-weight:bold"></c></p>
<p style="Normal" xid="213" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; line-height:1.000000; text-decoration:none; font-size:12pt; margin-right:0.0000in; margin-bottom:0.0000in"><c props="font-weight:bold">  	factory :article_with_comments do</c><c props="font-weight:bold"></c></p>
<p style="Normal" xid="214" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; margin-bottom:0.0000in; font-size:12pt; line-height:1.000000; text-decoration:none"><c props="font-weight:bold">  		# После создания article</c><c props="font-weight:bold"></c></p>
<p style="Normal" xid="215" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; line-height:1.000000; text-decoration:none; font-size:12pt; margin-right:0.0000in; margin-bottom:0.0000in"><c props="font-weight:bold">  		after :create do |article, evaluator| </c><c props="font-weight:bold"></c></p>
<p style="Normal" xid="216" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; margin-bottom:0.0000in; font-size:12pt; line-height:1.000000; text-decoration:none"><c props="font-weight:bold">  			# Создаем список из 3-х комментариев.</c><c props="font-weight:bold"></c></p>
<p style="Normal" xid="217" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; line-height:1.000000; text-decoration:none; font-size:12pt; margin-right:0.0000in; margin-bottom:0.0000in"><c props="font-weight:bold">  			create_list :comment, 3, article: article</c><c props="font-weight:bold"></c></p>
<p style="Normal" xid="218" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; margin-bottom:0.0000in; font-size:12pt; line-height:1.000000; text-decoration:none"><c props="font-weight:bold">  		end</c><c props="font-weight:bold"></c></p>
<p style="Normal" xid="219" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; line-height:1.000000; text-decoration:none; font-size:12pt; margin-right:0.0000in; margin-bottom:0.0000in"><c props="font-weight:bold">  	end</c><c props="font-weight:bold"></c></p>
<p style="Normal" xid="220" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; margin-right:0.0000in; margin-bottom:0.0000in; font-size:12pt; line-height:1.000000; text-decoration:none"><c props="font-weight:bold">  end</c><c props="font-weight:bold"></c></p>
<p style="Normal" xid="221" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; line-height:1.000000; text-decoration:none; font-size:12pt; margin-right:0.0000in; margin-bottom:0.0000in"><c props="font-weight:bold">end</c><c props="font-weight:bold"></c></p>
<p style="Normal" xid="222" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; line-height:1.000000; text-decoration:none; font-size:12pt; margin-right:0.0000in; margin-bottom:0.0000in"><c props="font-weight:bold"></c><c></c></p>
<p style="Normal" xid="223" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; line-height:1.000000; text-decoration:none; font-size:12pt; margin-right:0.0000in; margin-bottom:0.0000in"><c props="font-weight:normal">В создаваемом списке </c><c props="font-weight:normal"></c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">create_list :comment, 3, </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:underline; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">article: article</c><c props="text-decoration:underline; font-weight:bold"> </c><c props="font-weight:normal">нужно указать:</c></p>
<p style="Normal" xid="224" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; line-height:1.000000; text-decoration:none; font-size:12pt; margin-right:0.0000in; margin-bottom:0.0000in"><c props="font-weight:normal"></c><c props="font-weight:normal"> </c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">article: article, </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">так как в модели </c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">Comment</c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"> есть запись </c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">belongs_to Article.</c></p>
<p style="Normal" xid="226" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; line-height:1.000000; text-decoration:none; font-size:12pt; margin-right:0.0000in; margin-bottom:0.0000in"><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-"></c><c></c></p>
<p style="Normal" xid="227" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; line-height:1.000000; text-decoration:none; font-size:12pt; margin-right:0.0000in; margin-bottom:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">И теперь допишем наш тест для проверки метода </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"></c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">last_comment</c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">:</c></p>
<p style="Normal" xid="228" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-align:left; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:normal; line-height:1.000000; text-decoration:none; font-size:12pt; margin-right:0.0000in; margin-bottom:0.0000in"><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">last_comment</c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-"></c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">.</c></p>
<p style="Normal" xid="229" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"> </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">describe "#last_comment" do</c></p>
<p style="Normal" xid="230" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">    	it "returns the last comment" do</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="231" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">    		# Создаем статью, но в этот раз с комментариями</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="232" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">    		article = create(:article_with_comments)</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="233" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="234" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">    		#проверка</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="235" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">    		expect(article.last_comment.body).to eql "comment body 3"</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="236" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">    	end</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="237" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">    end</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="241" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; font-size:12pt">В проверке пишем что тело последнего комментария, так как мы создали 3 обьекта в строке comments body 3 должно быть число 3.</c><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; font-size:12pt"></c></p>
<p style="Normal" xid="225" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-position:normal; lang:-none-; text-decoration:none; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; margin-bottom:0.0000in; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">Есть еще одно но, тест не будет работать так как у нас есть ассоциация с моделью User. Тоесть в модели если мы посмотрим в папку </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"></c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">db/schema.rb</c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"> то мы увидим что в таблице </c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">articles</c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"> есть поле </c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">user_id. </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">Для того чтобы тесты нормально проходили нужно в уже созданную фабрику в файле  articles.rb допиать строчку </c>association(:user). <c props="font-weight:normal">Вот как будет выглядеть наша фабрика:</c></p>
<p style="Normal" xid="242" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; font-size:12pt; text-decoration:none; color:000000; margin-right:0.0000in; text-align:left">FactoryGirl.define do<c></c></p>
<p style="Normal" xid="243" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; font-size:12pt; text-decoration:none; color:000000; margin-right:0.0000in; text-align:left">  factory :article do<c></c></p>
<p style="Normal" xid="244" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-position:normal; lang:-none-; text-decoration:none; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; margin-bottom:0.0000in; font-size:12pt; line-height:1.000000; text-align:left">  	<c></c><c props="text-decoration:underline">association(:user)</c></p>
<p style="Normal" xid="245" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; color:000000; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; font-size:12pt; text-decoration:none; margin-bottom:0.0000in; margin-right:0.0000in; text-align:left">  	title "Hello title"<c></c></p>
<p style="Normal" xid="246" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-position:normal; lang:-none-; text-decoration:none; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; margin-bottom:0.0000in; font-size:12pt; line-height:1.000000; text-align:left">  	text  "Hello text" <c></c></p>
<p style="Normal" xid="247" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-position:normal; lang:-none-; text-decoration:none; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; margin-bottom:0.0000in; font-size:12pt; line-height:1.000000; text-align:left"><c></c><c></c></p>
<p style="Normal" xid="248" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-position:normal; lang:-none-; text-decoration:none; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; margin-bottom:0.0000in; font-size:12pt; line-height:1.000000; text-align:left"><c></c><c></c></p>
<p style="Normal" xid="249" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; font-size:12pt; text-decoration:none; color:000000; margin-right:0.0000in; text-align:left">  	# Создаем фабрику с названием article_with_comments<c></c></p>
<p style="Normal" xid="250" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; margin-bottom:0.0000in; color:000000; line-height:1.000000; font-size:12pt">  	# Для создания статьи с несколькими комментариями<c></c></p>
<p style="Normal" xid="251" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; font-size:12pt; text-decoration:none; color:000000; margin-right:0.0000in; text-align:left">  	factory :article_with_comments do<c></c></p>
<p style="Normal" xid="252" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-position:normal; lang:-none-; text-decoration:none; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; margin-bottom:0.0000in; font-size:12pt; line-height:1.000000; text-align:left">  		# После создания article<c></c></p>
<p style="Normal" xid="253" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; color:000000; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; font-size:12pt; text-decoration:none; margin-bottom:0.0000in; margin-right:0.0000in; text-align:left">  		after :create do |article, evaluator| <c></c></p>
<p style="Normal" xid="254" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-position:normal; lang:-none-; text-decoration:none; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; margin-bottom:0.0000in; font-size:12pt; line-height:1.000000; text-align:left">  			# Создаем список из 3-х комментариев.<c></c></p>
<p style="Normal" xid="255" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; font-size:12pt; text-decoration:none; color:000000; margin-right:0.0000in; text-align:left">  			create_list :comment, 3, article: article<c></c></p>
<p style="Normal" xid="256" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; margin-bottom:0.0000in; color:000000; line-height:1.000000; font-size:12pt">  		end<c></c></p>
<p style="Normal" xid="257" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; font-size:12pt; text-decoration:none; color:000000; margin-right:0.0000in; text-align:left">  	end<c></c></p>
<p style="Normal" xid="258" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-position:normal; lang:-none-; text-decoration:none; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; margin-bottom:0.0000in; font-size:12pt; line-height:1.000000; text-align:left">  end<c></c></p>
<p style="Normal" xid="259" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; color:000000; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; font-size:12pt; text-decoration:none; margin-bottom:0.0000in; margin-right:0.0000in; text-align:left">end<c></c></p>
<p style="Normal" xid="261" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; color:000000; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; font-size:12pt; text-decoration:none; margin-bottom:0.0000in; margin-right:0.0000in; text-align:left"><c props="font-weight:normal">Но это еще не все, для связи </c><c props="font-weight:normal"></c><c props="font-weight:bold">article</c><c props="font-weight:normal"> c </c><c props="font-weight:bold">user</c><c props="font-weight:normal"> нам еще нужно создать фабрику для модели </c><c props="font-weight:bold">User</c><c props="font-weight:normal">. Создадим в файл </c><c props="font-weight:bold">factories/users.rb </c><c props="font-weight:normal">и так же зделаем по шаблону как предыдущие фабрики. </c></p>
<p style="Normal" xid="262" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-position:normal; lang:-none-; text-decoration:none; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; margin-bottom:0.0000in; font-size:12pt; line-height:1.000000; text-align:left">FactoryGirl.define do<c></c></p>
<p style="Normal" xid="263" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; font-size:12pt; text-decoration:none; color:000000; margin-right:0.0000in; text-align:left">  factory :user do<c></c></p>
<p style="Normal" xid="264" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; margin-bottom:0.0000in; color:000000; line-height:1.000000; font-size:12pt">  	username "koren"<c></c></p>
<p style="Normal" xid="265" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; font-size:12pt; text-decoration:none; color:000000; margin-right:0.0000in; text-align:left">  	email    "email@email.com"<c></c></p>
<p style="Normal" xid="266" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-position:normal; lang:-none-; text-decoration:none; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; margin-bottom:0.0000in; font-size:12pt; line-height:1.000000; text-align:left">  	# sequence(:email) {|n| "email#{n}@amail.com "}<c></c></p>
<p style="Normal" xid="267" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; color:000000; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; font-size:12pt; text-decoration:none; margin-bottom:0.0000in; margin-right:0.0000in; text-align:left">  	password "password"<c></c></p>
<p style="Normal" xid="268" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-position:normal; lang:-none-; text-decoration:none; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; margin-bottom:0.0000in; font-size:12pt; line-height:1.000000; text-align:left">  end <c></c></p>
<p style="Normal" xid="269" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; font-size:12pt; text-decoration:none; color:000000; margin-right:0.0000in; text-align:left">end<c></c></p>
<p style="Normal" xid="270" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; font-size:12pt; text-decoration:none; color:000000; margin-right:0.0000in; text-align:left"><c props="font-weight:normal">После того как мы создали фабрику для модели </c><c props="font-weight:normal"></c><c props="font-weight:bold">User,</c><c props="font-weight:normal"> тесты должны нормально проходить.</c></p>
<p style="Normal" xid="271" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; font-size:12pt; text-decoration:none; color:000000; margin-right:0.0000in; text-align:left"><c props="font-weight:normal"></c><c></c></p>
<p style="Normal" xid="273" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; font-size:12pt; text-decoration:none; color:000000; margin-right:0.0000in; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">	    (Rubyschool lesson 47)</c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c></p>
<p style="Normal" xid="281" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; font-size:12pt; text-decoration:none; color:000000; margin-right:0.0000in; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c></c></p>
<p style="Normal" xid="272" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; color:000000; margin-bottom:0.0000in; line-height:1.000000; text-align:left"><c props="font-weight:normal">    В этом уроке рассмотрим тестирование так называемого </c><c props="font-weight:normal"></c><c props="font-weight:bold">приемочного тестирования </c><c props="font-weight:normal">(</c>﻿Acceptance Testing). <c props="font-weight:normal">Одна из утилит позволяющих это сделать называется </c><c props="font-weight:bold">Capybara</c><c props="font-weight:normal">. Для того чтобы эта утилита заработала нужно:</c></p>
<p style="Normal" xid="283" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; color:000000; margin-bottom:0.0000in; line-height:1.000000; text-align:left"><c props="font-weight:normal">1) установить гем </c><c props="font-weight:normal"></c><c props="font-weight:bold">Capybara</c><c props="font-weight:normal"> в наш </c><c props="font-weight:bold">Gemfile.</c></p>
<p style="Normal" xid="285" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; color:000000; margin-bottom:0.0000in; line-height:1.000000; text-align:left"><c props="font-weight:normal">2) создать файл название которого соответствует тестируемой странице и оканчивающийся на </c><c props="font-weight:normal"></c><c props="font-weight:bold">_spec.rb</c><c props="font-weight:normal"> в каталоге </c><c props="font-weight:bold">spec/features</c></p>
<p style="Normal" xid="284" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; color:000000; margin-bottom:0.0000in; line-height:1.000000; text-align:left"><c props="font-weight:normal">3) Начальная форма теста будет выглядеть так:</c><c props="font-weight:normal"></c></p>
<p style="Normal" xid="295" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; color:000000; margin-bottom:0.0000in; line-height:1.000000; text-align:left"><c props="font-weight:normal"></c><c></c></p>
<p style="Normal" xid="286" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-decoration:none; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; color:000000; font-size:12pt; margin-right:0.0000in; text-align:left"><c props="text-decoration:underline">require "spec_helper"</c><c props="text-decoration:underline"></c></p>
<p style="Normal" xid="287" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; color:000000; text-indent:0.0000in; margin-bottom:0.0000in; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-position:normal"><c></c><c></c></p>
<p style="Normal" xid="288" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-position:normal; lang:-none-; text-decoration:none; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; font-size:12pt; margin-right:0.0000in; text-align:left"><c props="text-decoration:underline; font-weight:bold">feature "......" do </c><c props="text-decoration:underline; font-weight:bold"></c></p>
<p style="Normal" xid="289" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; text-decoration:none; color:000000; line-height:1.000000; text-align:left">	<c></c><c props="text-decoration:underline">scenario "......" do</c></p>
<p style="Normal" xid="290" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; color:000000; margin-right:0.0000in; font-size:12pt">		<c></c><c props="text-decoration:underline">visit '/contacts'</c></p>
<p style="Normal" xid="291" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; color:000000; margin-right:0.0000in; font-size:12pt"><c></c><c></c></p>
<p style="Normal" xid="292" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; text-decoration:none; color:000000; line-height:1.000000; text-align:left">		expect(page).to have_content 'New contact'<c></c></p>
<p style="Normal" xid="293" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; margin-bottom:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; color:000000; font-size:12pt; margin-right:0.0000in; text-align:left">	end	<c></c></p>
<p style="Normal" xid="294" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; color:000000; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; text-decoration:none; margin-bottom:0.0000in; line-height:1.000000; text-align:left">end<c></c></p>
<p style="Normal" xid="282" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; color:000000; margin-bottom:0.0000in; line-height:1.000000; text-align:left"><c></c><c></c></p>
<p style="Normal" xid="280" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; color:000000; margin-bottom:0.0000in; line-height:1.000000; text-align:left"><c props="font-weight:normal">Здесь первая строчка, как мы уже делали неоднократно связывает наш созданный файл со </c><c props="font-weight:normal"></c><c props="font-weight:bold">spec_helper.rb</c><c props="font-weight:normal"> файлом. а строчки </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:underline ; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">feature "......" do   </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"> </c>и   <c props="font-family:Times New Roman; text-decoration:underline ; color:000000; font-size:12pt; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"> </c><c props="font-family:Times New Roman; text-decoration:underline ; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">scenario "......" do</c>   <c props="font-weight:normal">Выполняют примерно тоже что и </c><c props="text-decoration:underline; font-weight:bold">describe </c><c props="text-decoration:none; font-weight:bold">   </c><c props="font-weight:normal">и   </c><c props="text-decoration:underline; font-weight:bold">it</c><c props="text-decoration:none; font-weight:bold">  </c><c props="font-weight:normal">в юнит тестах.  Далее сткрока</c></p>
<p style="Normal" xid="297" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; color:000000; margin-bottom:0.0000in; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"></c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">visit '/contacts'  </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">указывает на страницу которая будет тестироваться. Дальше идет проверка на соответствие заявленной строки со строкой  тестируемой страницы</c></p>
<p style="Normal" xid="298" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; color:000000; margin-bottom:0.0000in; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">expect(page).to have_content 'New contact'.</c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-"></c></p>
<p style="Normal" xid="278" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; color:000000; margin-bottom:0.0000in; line-height:1.000000; text-align:left">  <c></c></p>
<p style="Normal" xid="299" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-decoration:none; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; color:000000; font-size:12pt; margin-right:0.0000in; text-align:left">internationalization или I18n  <c></c></p>
<p style="Normal" xid="300" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-decoration:none; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; color:000000; font-size:12pt; margin-right:0.0000in; text-align:left"><c props="font-weight:normal">Рассмотрим применение</c><c props="font-weight:normal"></c><c props="font-weight:bold"> I18n . I18n</c><c props="font-weight:normal"> применяется для того чтобы сделать наше веб приложение мультиязычным. Можно переключать приложение в зависимости от локализации. Тоесть в нашем приложении можно будет менять язык к примеру с английского на русский или на любой другой язык. </c></p>
<p style="Normal" xid="303" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-decoration:none; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; color:000000; font-size:12pt; margin-right:0.0000in; text-align:left"><c props="font-weight:normal">    Откроем файл  </c><c props="font-weight:normal"></c><c props="font-weight:bold">config/locales/en.yml </c><c props="font-weight:normal">и напишем такой код:</c></p>
<p style="Normal" xid="304" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; color:000000; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; margin-bottom:0.0000in; text-decoration:none; line-height:1.000000; text-align:left">en:<c></c></p>
<p style="Normal" xid="305" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; color:000000; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; margin-bottom:0.0000in; text-decoration:none; line-height:1.000000; text-align:left">  hello: "Hello world"<c></c></p>
<p style="Normal" xid="306" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; color:000000; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; margin-bottom:0.0000in; text-decoration:none; line-height:1.000000; text-align:left"><c></c><c></c></p>
<p style="Normal" xid="307" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-position:normal; lang:-none-; text-decoration:none; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; font-size:12pt; margin-right:0.0000in; text-align:left">  <c></c><c props="text-decoration:underline">contacts: </c></p>
<p style="Normal" xid="308" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; text-decoration:none; color:000000; line-height:1.000000; text-align:left"><c props="text-decoration:underline">    contact_us: 'Contact us!'</c><c props="text-decoration:underline"></c></p>
<p style="Normal" xid="302" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-decoration:none; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; color:000000; font-size:12pt; margin-right:0.0000in; text-align:left"><c props="font-weight:normal"></c><c></c></p>
<p style="Normal" xid="301" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-position:normal; lang:-none-; text-decoration:none; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; font-size:12pt; margin-right:0.0000in; text-align:left"><c props="font-weight:normal">Теперь этот код внедрим в наше приложение. Откроем  файл </c><c props="font-weight:normal"></c><c props="font-weight:bold">views/contacts/new.html.erb </c><c props="font-weight:normal">И поменяем заглавие страницы. У нас заглавие было </c>&lt;h1&gt;New contact&lt;/h1&gt; , <c props="font-weight:normal">Поменяем его на </c>&lt;h1&gt;&lt;%= t('contacts.contact_us') %&gt;&lt;/h1&gt; <c props="font-weight:normal">Теперь на странице появилось заглавие которое мы определили в файле </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">config/locales/en.yml.</c></p>
<p style="Normal" xid="311" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-position:normal; lang:-none-; text-decoration:none; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; font-size:12pt; margin-right:0.0000in; text-align:left"><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">   Теперь  попробуем всавить интернацианализацию в наш тест. </c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"></c></p>
<p style="Normal" xid="309" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; color:000000; text-decoration:none; margin-right:0.0000in; font-size:12pt"><c props="font-weight:normal">У нас был тест тестирующий страницу приложения на:</c><c props="font-weight:normal"></c></p>
<p style="Normal" xid="341" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; color:000000; text-decoration:none; margin-right:0.0000in; font-size:12pt"><c props="font-weight:normal"></c><c props="font-weight:normal"> </c><c props="font-weight:bold">spec/features/visitor_create_contact_spec.rb</c></p>
<p style="Normal" xid="342" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; color:000000; text-decoration:none; margin-right:0.0000in; font-size:12pt"><c props="font-weight:bold"></c><c></c></p>
<p style="Normal" xid="312" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; color:000000; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; margin-bottom:0.0000in; text-decoration:none; line-height:1.000000; text-align:left">require "spec_helper"<c></c></p>
<p style="Normal" xid="314" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-position:normal; lang:-none-; text-decoration:none; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; font-size:12pt; margin-right:0.0000in; text-align:left">feature "Contact Creation" do <c></c></p>
<p style="Normal" xid="315" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; text-decoration:none; color:000000; line-height:1.000000; text-align:left">  scenario "allow access to contacts page" do<c></c></p>
<p style="Normal" xid="316" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; color:000000; margin-right:0.0000in; font-size:12pt">		visit '/contacts'<c></c></p>
<p style="Normal" xid="317" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; color:000000; margin-right:0.0000in; font-size:12pt"><c></c><c></c></p>
<p style="Normal" xid="318" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; text-decoration:none; color:000000; line-height:1.000000; text-align:left">		<c></c><c props="text-decoration:underline; font-weight:bold">expect(page).to have_content 'New contacts'</c></p>
<p style="Normal" xid="319" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; margin-bottom:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; color:000000; font-size:12pt; margin-right:0.0000in; text-align:left">	end	<c></c></p>
<p style="Normal" xid="320" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; color:000000; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; text-decoration:none; margin-bottom:0.0000in; line-height:1.000000; text-align:left">end<c></c></p>
<p style="Normal" xid="321" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; color:000000; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; text-decoration:none; margin-bottom:0.0000in; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">теперь добавим интернализацию:  </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"></c></p>
<p style="Normal" xid="324" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; color:000000; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; text-decoration:none; margin-bottom:0.0000in; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-"></c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">expect(page).to have_content I18n.t 'contacts.contact_us'  </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">мы здесь только добавили I18n и вместо название добавили код </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-"> 'contacts.contact_us' .  </c></p>
<p style="Normal" xid="325" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; color:000000; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; text-decoration:none; margin-bottom:0.0000in; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-"> </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-"></c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">Теперь напишем тест который емулирет заполнение  полей на странице и отправляет эту форму на сервер. В нашей модели </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">Сontact</c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"> есть два атрибута </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">email</c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"> и </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">message</c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">.</c></p>
<p style="Normal" xid="326" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; color:000000; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; text-decoration:none; margin-bottom:0.0000in; line-height:1.000000; text-align:left"><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">Создадим тест для проверки отправки формы на сервер.</c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"></c></p>
<p style="Normal" xid="327" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-position:normal; lang:-none-; text-decoration:none; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; font-size:12pt; margin-right:0.0000in; text-align:left">scenario "alows guest to create a contact" do<c></c></p>
<p style="Normal" xid="328" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; text-decoration:none; color:000000; line-height:1.000000; text-align:left">    visit '/contacts'<c></c></p>
<p style="Normal" xid="329" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; color:000000; margin-right:0.0000in; font-size:12pt">    fill_in :contact_email, with: 'user@axample.com'<c></c></p>
<p style="Normal" xid="330" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; text-decoration:none; color:000000; line-height:1.000000; text-align:left">    fill_in :contact_message, with: 'Hello my darling!!!'<c></c></p>
<p style="Normal" xid="331" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; margin-bottom:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; color:000000; font-size:12pt; margin-right:0.0000in; text-align:left">    click_button 'Create'<c></c></p>
<p style="Normal" xid="332" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; margin-bottom:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; color:000000; font-size:12pt; margin-right:0.0000in; text-align:left">    <c></c></p>
<p style="Normal" xid="333" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; color:000000; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; font-size:12pt; text-decoration:none; margin-bottom:0.0000in; line-height:1.000000; text-align:left">    expect(page).to have_content 'The contact was successfuly created'<c></c></p>
<p style="Normal" xid="335" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-position:normal; lang:-none-; text-decoration:none; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; font-size:12pt; margin-right:0.0000in; text-align:left">  end<c></c></p>
<p style="Normal" xid="336" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-position:normal; lang:-none-; text-decoration:none; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; font-size:12pt; margin-right:0.0000in; text-align:left"><c props="font-weight:normal">Поля для заполнения здесь представленны методом </c><c props="font-weight:normal"></c><c props="font-weight:bold">fill_in </c><c props="font-weight:normal">а </c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">contact_email</c></p>
<p style="Normal" xid="338" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-position:normal; lang:-none-; text-decoration:none; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; font-size:12pt; margin-right:0.0000in; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">это название нашего поля, именно то что мы видим в исходном коде страницы</c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"></c></p>
<p style="Normal" xid="339" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-position:normal; lang:-none-; text-decoration:none; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; font-size:12pt; margin-right:0.0000in; text-align:left"><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">click_button ‘Create’</c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-"></c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">  - эмулирует отправку формы, когда мы нажимаем на кнопку.</c></p>
<p style="Normal" xid="340" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-position:normal; lang:-none-; text-decoration:none; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; font-size:12pt; margin-right:0.0000in; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">После чего мы попадаем в шаблон </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"></c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">create.html.erb</c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"> который сообщает нам что контакт был удачно создан.</c></p>
<p style="Normal" xid="344" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-position:normal; lang:-none-; text-decoration:none; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; font-size:12pt; margin-right:0.0000in; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">    Теперь протестируем страницу добавления нового пользователя. Создадим файл  </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"></c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">spec/features/visitor_creates_account_spec.rb. </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">Форма теста примерно такая же.</c></p>
<p style="Normal" xid="345" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-position:normal">require "spec_helper"<c></c></p>
<p style="Normal" xid="346" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-position:normal"><c></c><c></c></p>
<p style="Normal" xid="347" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-position:normal">feature “Account Creation” do<c></c></p>
<p style="Normal" xid="350" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-position:normal">    scenario “allows guest to create account” do<c></c></p>
<p style="Normal" xid="351" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-position:normal">       visit new_user_registration_path<c></c></p>
<p style="Normal" xid="356" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-position:normal">	fill_in  :user_email,  with: ‘user@example.com’<c></c></p>
<p style="Normal" xid="357" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-position:normal">	fill_in :user_username, with: 'user’<c></c></p>
<p style="Normal" xid="358" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-position:normal">	fill_in  :user_password, with: '123456‘<c></c></p>
<p style="Normal" xid="359" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-position:normal">	fill_in  :user_password_confirmation,  with:  '123456'<c></c></p>
<p style="Normal" xid="362" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-position:normal">           click_button ‘Sign up’<c></c></p>
<p style="Normal" xid="365" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-position:normal; lang:-none-; text-decoration:none; text-indent:0.0000in; text-align:left; margin-top:0.0000in; font-weight:bold; line-height:1.000000; color:000000; margin-bottom:0.0000in; margin-right:0.0000in; font-size:12pt">	 expect(page).to have_content I18n.t 'devise.registrations.signed_up'<c></c></p>
<p style="Normal" xid="353" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-position:normal">    end<c></c></p>
<p style="Normal" xid="354" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-position:normal">end<c></c></p>
<p style="Normal" xid="352" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-position:normal"><c></c><c></c></p>
<p style="Normal" xid="348" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-position:normal"><c props="font-weight:normal">Как мы видим что здесь тестируемая страница в принципе ничем не отличаетcя от предыдущего примера. Теже поля </c><c props="font-weight:normal"></c><c props="font-weight:bold">fill_in</c><c props="font-weight:normal">, и та же отправка формы </c><c props="font-weight:bold">click_button, </c><c props="font-weight:normal">и та же самая форма проверки страницы </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">expect(page).to have_content. </c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">Запустим сервер и создадим ногового пользователя чтобы увидеть Тестируемую страницу и привязать к ключевой записи на этой странице наш тест. Как мы видим на нашей странице есть уникальная запись </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">“Welcome! You have signed up successfully</c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">. Протестируем эту страницу через интернационализацию. </c></p>
<p style="Normal" xid="366" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-position:normal"><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">       Зайдем  в файл  </c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:normal; font-style:normal; lang:-none-"></c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">config/locales/devise.en.yml. </c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">Здесь и находиться искомый нами файл который выдает строчку которая выше -&gt; </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">devise.registrations.signed_up.  </c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">Мы уже рассматривали интернационализацию и знаем как в тесте обращаться к ней. </c></p>
<p style="Normal" xid="367" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-position:normal"><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">expect(page).to have_content I18n.t 'devise.registrations.signed_up'</c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-"></c></p>
<p style="Normal" xid="363" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-position:normal"><c props="font-weight:normal">    Теперь если будем создавать статью то нам прийдется эту регистрацию создавать опять. Давайте сделаем  метод который создает пользователя.</c></p>
<p style="Normal" xid="368" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-position:normal"><c props="font-weight:normal"></c></p>
<p style="Normal" xid="377" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; text-align:left; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; color:000000; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-position:normal"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">require "spec_helper"</c></p>
<p style="Normal" xid="378" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-position:normal; font-weight:bold; text-align:left; line-height:1.000000; margin-top:0.0000in; text-decoration:none; margin-right:0.0000in; margin-bottom:0.0000in; color:000000; text-indent:0.0000in; font-size:12pt"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">feature “Account Creation” do</c></p>
<p style="Normal" xid="384" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">    scenario “allows guest to create account” do</c></p>
<p style="Normal" xid="385" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">       </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-"> sign_up</c></p>
<p style="Normal" xid="391" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">	 expect(page).to have_content I18n.t 'devise.registrations.signed_up'</c></p>
<p style="Normal" xid="392" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">   	 end</c></p>
<p style="Normal" xid="397" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none"></c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">end</c></p>
<p style="Normal" xid="379" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; margin-bottom:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; color:000000; text-align:left; margin-right:0.0000in; font-size:12pt"><c props="font-weight:normal"></c></p>
<p style="Normal" xid="383" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-position:normal; font-weight:normal; text-align:left; line-height:1.000000; margin-top:0.0000in; text-decoration:none; margin-right:0.0000in; margin-bottom:0.0000in; color:000000; text-indent:0.0000in; font-size:12pt"><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; font-size:12pt">def sign_up</c></p>
<p style="Normal" xid="371" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-position:normal; font-weight:normal; text-align:left; line-height:1.000000; margin-top:0.0000in; text-decoration:none; margin-right:0.0000in; margin-bottom:0.0000in; color:000000; text-indent:0.0000in; font-size:12pt"><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-"> 	visit new_user_registration_path</c></p>
<p style="Normal" xid="372" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">	fill_in  :user_email,  with: ‘user@example.com’</c></p>
<p style="Normal" xid="373" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">	fill_in :user_username, with: 'user’</c></p>
<p style="Normal" xid="374" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">	fill_in  :user_password, with: '123456‘</c></p>
<p style="Normal" xid="375" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">	fill_in  :user_password_confirmation,  with:  '123456'</c></p>
<p style="Normal" xid="376" props="margin-top:0.0000in; margin-left:0.0000in; text-indent:0.0000in; dom-dir:ltr; margin-bottom:0.0000in; line-height:1.000000; text-align:left; margin-right:0.0000in"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">           click_button ‘Sign up’</c></p>
<p style="Normal" xid="370" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; color:000000; lang:-none-; text-position:normal; text-indent:0.0000in; text-align:left; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; margin-bottom:0.0000in; line-height:1.000000; font-size:12pt"><c props="font-weight:bold">end</c></p>
<p style="Normal" xid="398" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; color:000000; lang:-none-; text-position:normal; text-indent:0.0000in; text-align:left; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; margin-bottom:0.0000in; line-height:1.000000; font-size:12pt"><c props="font-weight:bold"></c></p>
<p style="Normal" xid="399" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; color:000000; lang:-none-; text-position:normal; text-indent:0.0000in; text-align:left; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; margin-bottom:0.0000in; line-height:1.000000; font-size:12pt"><c props="font-weight:normal">Теперь сделаем из этого метода хелпер который будет отвечать за регистрацию пользователя. для этого создадим файл </c><c props="font-weight:bold">spec/support/session_helper.rb </c><c props="font-weight:normal">и перенесем в него наш созданный метод. Запустим тест и проверим или все работает. Видим что наши тесты прошли.</c></p>
<p style="Normal" xid="401" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; color:000000; lang:-none-; text-position:normal; text-indent:0.0000in; text-align:left; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; margin-bottom:0.0000in; line-height:1.000000; font-size:12pt"><c props="font-weight:normal">   Перейдем к тестировании статьи, создадим файл :</c></p>
<p style="Normal" xid="402" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; color:000000; lang:-none-; text-position:normal; text-indent:0.0000in; text-align:left; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; margin-bottom:0.0000in; line-height:1.000000; font-size:12pt"><c props="font-weight:normal"></c><c props="font-weight:normal"> </c><c props="font-weight:bold">spec/features/user_creates_article_spec.rb. </c><c props="font-weight:normal">Создадим содержимое по нашему привычному шаблону. </c></p>
<p style="Normal" xid="405" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; color:000000; lang:-none-; text-position:normal; text-indent:0.0000in; text-align:left; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; margin-bottom:0.0000in; line-height:1.000000; font-size:12pt"><c props="font-weight:normal"></c></p>
<p style="Normal" xid="404" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; margin-bottom:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; color:000000; text-align:left; margin-right:0.0000in; font-size:12pt"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">require "spec_helper"</c></p>
<p style="Normal" xid="406" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; text-align:left; line-height:1.000000; font-size:12pt"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">feature “Article creation” do</c></p>
<p style="Normal" xid="415" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; text-align:left; line-height:1.000000; font-size:12pt"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">  befor(:all) do</c></p>
<p style="Normal" xid="416" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; text-align:left; line-height:1.000000; font-size:12pt"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">    sign_up</c></p>
<p style="Normal" xid="417" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; text-align:left; line-height:1.000000; font-size:12pt"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">   end</c></p>
<p style="Normal" xid="407" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; text-align:left; line-height:1.000000; font-size:12pt"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">  scenario “allows user to visit new article page” do</c></p>
<p style="Normal" xid="412" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; font-size:12pt; margin-right:0.0000in; text-align:left"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">  </c><c>visit new_article_path</c></p>
<p style="Normal" xid="413" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c>    expect(page).to have_content 'New Article'</c></p>
<p style="Normal" xid="408" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; text-align:left; line-height:1.000000; font-size:12pt"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">    end</c></p>
<p style="Normal" xid="409" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; text-align:left; line-height:1.000000; font-size:12pt"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">end</c></p>
<p style="Normal" xid="410" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; text-align:left; line-height:1.000000; font-size:12pt"><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; font-size:12pt">Когда мы пишем различные тесты, то в rspec есть так называемые перехваты </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">before and after hooks</c><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; font-size:12pt">  которые встраивают для всех тестируемых приложений опредeленный код.</c></p>
<p style="Normal" xid="411" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; text-align:left; line-height:1.000000; font-size:12pt"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">before(:each) do</c><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; font-size:12pt"> исполняется перед каждым тестом, а </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">before(:all)</c><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; font-size:12pt"> исполняется один раз перед всеми тестами.</c></p>
<p style="Normal" xid="414" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; text-align:left; line-height:1.000000; font-size:12pt"><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; font-size:12pt">Так что чтобы не ставить </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">sign_up</c><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; font-size:12pt"> перед всеми тестами, сделаем перехват . </c></p>
<p style="Normal" xid="418" props="font-family:Times New Roman; dom-dir:ltr; margin-bottom:0.0000in; margin-left:0.0000in; lang:-none-; text-position:normal; font-weight:normal; text-decoration:none; line-height:1.000000; font-style:normal; margin-top:0.0000in; margin-right:0.0000in; color:000000; text-align:left; text-indent:0.0000in; font-size:12pt"><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-"> befor(:all) do</c></p>
<p style="Normal" xid="419" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; text-align:left; line-height:1.000000; font-size:12pt"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">    sign_up</c></p>
<p style="Normal" xid="420" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; text-align:left; line-height:1.000000; font-size:12pt"><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">   end</c></p>
<p style="Normal" xid="421" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; text-align:left; line-height:1.000000; font-size:12pt"><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; font-size:12pt"></c><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; font-size:12pt">Если запустить тесты, то в одном из тестов возникнет ошибка, которая говорит что имаил уже был использован. Каждый раз когда мы пишем метод </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">sign_up</c><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; font-size:12pt"> то каждый раз должен создаваться один и тот же юзер, но это невозможно из за того что валидация не даст нам этого сделать. Запись некоторых из полей при создании пользователя должны быть уникальными, и база данных не очищается. Для того чтобы база данных очищалась перед каждым тестом нам нужно установить гем </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">database_cleaner. </c><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; font-size:12pt">Его нужно добавить в группу тест так как этот гем предназначен только для тестирования приложения. Откроем </c><c props="font-family:Times New Roman; font-size:12pt; lang:-none-; text-position:normal; font-weight:bold; font-style:normal; text-decoration:none">Gemfile</c><c props="font-family:Times New Roman; text-decoration:none; lang:-none-; text-position:normal; font-weight:normal; font-style:normal; font-size:12pt"> и добавим гем </c><c props="font-family:Times New Roman; font-size:12pt; color:000000; text-decoration:none; text-position:normal; font-weight:bold; font-style:normal; lang:-none-">database_cleaner </c><c props="font-family:Times New Roman; text-decoration:none; color:000000; font-size:12pt; text-position:normal; font-weight:normal; font-style:normal; lang:-none-">в нашу группу.</c></p>
<p style="Normal" xid="422" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; font-size:12pt; margin-right:0.0000in; text-align:left"><c>group :test, :development do</c></p>
<p style="Normal" xid="423" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c>	gem "rspec-rails", "~&gt;2.4"</c></p>
<p style="Normal" xid="424" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; font-size:12pt; margin-right:0.0000in; text-align:left"><c>	gem 'capybara'</c></p>
<p style="Normal" xid="425" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c>	gem "shoulda-matchers"</c></p>
<p style="Normal" xid="426" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; font-size:12pt; margin-right:0.0000in; text-align:left"><c>  gem "factory_girl_rails", "~&gt;4.0"</c></p>
<p style="Normal" xid="427" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c>  </c><c props="text-decoration:underline">gem 'database_cleaner'</c></p>
<p style="Normal" xid="428" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c></c></p>
<p style="Normal" xid="429" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; font-size:12pt; margin-right:0.0000in; text-align:left"><c>end</c></p>
<p style="Normal" xid="430" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; font-size:12pt; margin-right:0.0000in; text-align:left"><c></c></p>
<p style="Normal" xid="431" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; font-size:12pt; margin-right:0.0000in; text-align:left"><c props="font-weight:normal">Теперь запустим </c><c props="font-weight:bold">bunlde install</c><c props="font-weight:normal"> чтобы он установить его в нашем приложении. Теперь в папке spec/support добавим файл конфигурации </c><c props="font-weight:bold">database_cleaner.rb.  </c><c props="font-weight:normal">И в нем сделаем конфигурацию которую можно найти в описании этого гема в интернете.</c></p>
<p style="Normal" xid="432" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c>RSpec.configure do |config|</c></p>
<p style="Normal" xid="434" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; font-size:12pt; margin-right:0.0000in; text-align:left"><c>  config.before(:suite) do</c></p>
<p style="Normal" xid="435" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c>    DatabaseCleaner.strategy = :transaction</c></p>
<p style="Normal" xid="436" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; font-size:12pt; margin-right:0.0000in; text-align:left"><c>    DatabaseCleaner.clean_with(:truncation)</c></p>
<p style="Normal" xid="437" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c>  end</c></p>
<p style="Normal" xid="438" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c></c></p>
<p style="Normal" xid="439" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; font-size:12pt; margin-right:0.0000in; text-align:left"><c>  config.around(:each) do |example|</c></p>
<p style="Normal" xid="440" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c>    DatabaseCleaner.cleaning do</c></p>
<p style="Normal" xid="441" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; font-size:12pt; margin-right:0.0000in; text-align:left"><c>      example.run</c></p>
<p style="Normal" xid="442" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c>    end</c></p>
<p style="Normal" xid="443" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; text-decoration:none; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; line-height:1.000000; margin-bottom:0.0000in; font-size:12pt; margin-right:0.0000in; text-align:left"><c>  end</c></p>
<p style="Normal" xid="445" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c>end</c></p>
<p style="Normal" xid="446" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-weight:normal">Эта настройка очищает базу данных перед каждым тестом. Теперь если запустим тесты то все они должны пройти успешно.</c></p>
<p style="Normal" xid="448" props="font-family:Times New Roman; dom-dir:ltr; font-style:normal; margin-left:0.0000in; lang:-none-; margin-bottom:0.0000in; text-indent:0.0000in; text-position:normal; margin-top:0.0000in; font-weight:bold; margin-right:0.0000in; text-decoration:none; font-size:12pt; line-height:1.000000; text-align:left"><c props="font-weight:normal"></c></p>
</section>
</abiword>
